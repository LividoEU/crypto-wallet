<mat-toolbar class="navbar" role="banner">
  <div class="navbar-left">
    <button
      mat-icon-button
      (click)="onMenuClick()"
      [attr.aria-label]="'navbar.toggleSidebar' | translate"
      class="menu-button"
    >
      <mat-icon>menu</mat-icon>
    </button>

    <div class="brand">
      <span class="app-title">{{ 'navbar.appTitle' | translate }}</span>
    </div>
  </div>

  <div class="navbar-right">
    <button
      mat-icon-button
      (click)="toggleTheme()"
      [attr.aria-label]="(isDarkMode() ? 'navbar.switchToLight' : 'navbar.switchToDark') | translate"
      [matTooltip]="(isDarkMode() ? 'navbar.lightMode' : 'navbar.darkMode') | translate"
      class="theme-toggle"
    >
      <mat-icon>{{ isDarkMode() ? 'light_mode' : 'dark_mode' }}</mat-icon>
    </button>

    <button
      mat-icon-button
      [matMenuTriggerFor]="languageMenu"
      [matTooltip]="'navbar.changeLanguage' | translate"
      class="language-toggle"
      [attr.aria-label]="'navbar.changeLanguage' | translate"
    >
      <span class="language-icon">{{ currentLanguage().icon }}</span>
    </button>

    @if (isLoggedIn()) {
      <button
        mat-icon-button
        (click)="logout()"
        [matTooltip]="'navbar.logout' | translate"
        [attr.aria-label]="'navbar.logout' | translate"
        class="logout-button"
      >
        <mat-icon>logout</mat-icon>
      </button>
    }
  </div>

  <mat-menu #languageMenu="matMenu">
    @for (language of availableLanguages; track language.code) {
    <button
      mat-menu-item
      (click)="changeLanguage(language)"
      [class.active]="language.code === currentLanguage().code"
    >
      <span>{{ language.label }}</span>
    </button>
    }
  </mat-menu>
</mat-toolbar>
